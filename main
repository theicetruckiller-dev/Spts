--// Services
local Players = game:GetService("Players")
local VirtualInputManager = game:GetService("VirtualInputManager")
local UserInputService = game:GetService("UserInputService")
local camera = workspace.CurrentCamera
local player = Players.LocalPlayer

--// GUI
local ScreenGui = Instance.new("ScreenGui", player.PlayerGui)
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 260, 0, 420)
Frame.Position = UDim2.new(0, 20, 0, 100)
Frame.BackgroundColor3 = Color3.fromRGB(25,25,25)
Frame.Active = true
Frame.Draggable = true

local UIListLayout = Instance.new("UIListLayout", Frame)
UIListLayout.Padding = UDim.new(0,5)

--// Buttons
local clickerBtn = Instance.new("TextButton", Frame)
clickerBtn.Size = UDim2.new(1, -10, 0, 40)
clickerBtn.Text = "‚ö° Auto Clicker: OFF"
clickerBtn.BackgroundColor3 = Color3.fromRGB(200,50,50)

local poolBtn = Instance.new("TextButton", Frame)
poolBtn.Size = UDim2.new(1, -10, 0, 40)
poolBtn.Text = "üèä Auto Pool: OFF"
poolBtn.BackgroundColor3 = Color3.fromRGB(200,120,50)

local jumpBtn = Instance.new("TextButton", Frame)
jumpBtn.Size = UDim2.new(1, -10, 0, 40)
jumpBtn.Text = "üü¶ Infinite Jump: OFF"
jumpBtn.BackgroundColor3 = Color3.fromRGB(80,80,200)

local strengthBtn = Instance.new("TextButton", Frame)
strengthBtn.Size = UDim2.new(1, -10, 0, 40)
strengthBtn.Text = "üëä Auto Strength: OFF"
strengthBtn.BackgroundColor3 = Color3.fromRGB(200,50,50)

local duraBtn = Instance.new("TextButton", Frame)
duraBtn.Size = UDim2.new(1, -10, 0, 40)
duraBtn.Text = "‚ù§Ô∏è Auto Durability: OFF"
duraBtn.BackgroundColor3 = Color3.fromRGB(200,50,50)

local psychicBtn = Instance.new("TextButton", Frame)
psychicBtn.Size = UDim2.new(1, -10, 0, 40)
psychicBtn.Text = "üëÅ Auto Psychic: OFF"
psychicBtn.BackgroundColor3 = Color3.fromRGB(200,50,50)

local equipBtn = Instance.new("TextButton", Frame)
equipBtn.Size = UDim2.new(1, -10, 0, 40)
equipBtn.Text = "üéí Auto Equip: OFF"
equipBtn.BackgroundColor3 = Color3.fromRGB(200,150,50)

--// Variables
local runningClicker = false
local runningPool = false
local infiniteJump = false
local autoStrength = false
local autoDurability = false
local autoPsychic = false
local autoEquip = false

--// Get Spawn Button Position
local function getSpawnPos()
    local vps = camera.ViewportSize
    local x = vps.X/2
    local y = vps.Y/2 + 120
    return Vector2.new(x,y)
end

--// AutoClicker (Spawn)
task.spawn(function()
	while true do
		if runningClicker then
			local pos = getSpawnPos()
			VirtualInputManager:SendMouseButtonEvent(pos.X, pos.Y, 0, true, game, 1)
			VirtualInputManager:SendMouseButtonEvent(pos.X, pos.Y, 0, false, game, 1)
			task.wait(0.3)
		else
			task.wait(0.2)
		end
	end
end)

--// AutoPool Loop
task.spawn(function()
	while true do
		if runningPool then
			print("Auto Pool Active")
			-- Buraya direkt havuz koordinatƒ±na teleport kodu eklenebilir
		end
		task.wait(1)
	end
end)

--// Auto Strength
task.spawn(function()
	while true do
		if autoStrength then
			VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.One, false, game)
			VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.One, false, game)
		end
		task.wait(0.5)
	end
end)

--// Auto Durability
task.spawn(function()
	while true do
		if autoDurability then
			VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.Two, false, game)
			VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.Two, false, game)
		end
		task.wait(0.5)
	end
end)

--// Auto Psychic (with Double Jump ‚Üí Fly ‚Üí 10x Bonus)
task.spawn(function()
	while true do
		if autoPsychic then
			-- Double jump
			for i = 1,2 do
				if player.Character and player.Character:FindFirstChildOfClass("Humanoid") then
					player.Character:FindFirstChildOfClass("Humanoid"):ChangeState("Jumping")
				end
				task.wait(0.2)
			end
			-- Psychic (3. slot)
			for i = 1,10 do -- 10x bonus
				VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.Three, false, game)
				VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.Three, false, game)
				task.wait(0.1)
			end
		end
		task.wait(1)
	end
end)

--// Infinite Jump
UserInputService.JumpRequest:Connect(function()
	if infiniteJump then
		if player.Character and player.Character:FindFirstChildOfClass("Humanoid") then
			player.Character:FindFirstChildOfClass("Humanoid"):ChangeState("Jumping")
		end
	end
end)

--// Auto Equip Items
task.spawn(function()
	while true do
		if autoEquip then
			local itemsToEquip = {"Item1","Item2","Item3"} -- Buraya item adlarƒ±nƒ± yaz
			local backpack = player:FindFirstChild("Backpack")
			if backpack then
				for _, itemName in pairs(itemsToEquip) do
					if backpack:FindFirstChild(itemName) then
						local item = backpack[itemName]
						item.Parent = player.Character
					end
				end
			end
		end
		task.wait(1)
	end
end)

--// Button Functions
local function toggleBtn(btn,var,textOn,textOff,colorOn,colorOff)
	_G[var] = not _G[var]
	btn.Text = _G[var] and textOn or textOff
	btn.BackgroundColor3 = _G[var] and colorOn or colorOff
end

clickerBtn.MouseButton1Click:Connect(function()
	toggleBtn(clickerBtn,"runningClicker","‚ö° Auto Clicker: ON","‚ö° Auto Clicker: OFF",Color3.fromRGB(50,200,50),Color3.fromRGB(200,50,50))
end)

poolBtn.MouseButton1Click:Connect(function()
	toggleBtn(poolBtn,"runningPool","üèä Auto Pool: ON","üèä Auto Pool: OFF",Color3.fromRGB(50,200,200),Color3.fromRGB(200,120,50))
end)

jumpBtn.MouseButton1Click:Connect(function()
	toggleBtn(jumpBtn,"infiniteJump","üü¶ Infinite Jump: ON","üü¶ Infinite Jump: OFF",Color3.fromRGB(50,150,250),Color3.fromRGB(80,80,200))
end)

strengthBtn.MouseButton1Click:Connect(function()
	toggleBtn(strengthBtn,"autoStrength","üëä Auto Strength: ON","üëä Auto Strength: OFF",Color3.fromRGB(50,200,50),Color3.fromRGB(200,50,50))
end)

duraBtn.MouseButton1Click:Connect(function()
	toggleBtn(duraBtn,"autoDurability","‚ù§Ô∏è Auto Durability: ON","‚ù§Ô∏è Auto Durability: OFF",Color3.fromRGB(50,200,50),Color3.fromRGB(200,50,50))
end)

psychicBtn.MouseButton1Click:Connect(function()
	toggleBtn(psychicBtn,"autoPsychic","üëÅ Auto Psychic: ON","üëÅ Auto Psychic: OFF",Color3.fromRGB(50,200,50),Color3.fromRGB(200,50,50))
end)

equipBtn.MouseButton1Click:Connect(function()
	toggleBtn(equipBtn,"autoEquip","üéí Auto Equip: ON","üéí Auto Equip: OFF",Color3.fromRGB(50,200,50),Color3.fromRGB(200,150,50))
end)
