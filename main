local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local VirtualInputManager = game:GetService("VirtualInputManager")
local Clipboard = game:GetService("Clipboard")
local CoreGui = game:GetService("CoreGui")
local p = Players.LocalPlayer

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "SPTSAuto"
gui.ResetOnSpawn = false
gui.Enabled = true
gui.Parent = CoreGui

local panel = Instance.new("Frame", gui)
panel.Size = UDim2.new(0, 220, 0, 260)
panel.Position = UDim2.new(0.05, 0, 0.3, 0)
panel.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
panel.Active = true
panel.Draggable = true
Instance.new("UICorner", panel).CornerRadius = UDim.new(0, 8)

local title = Instance.new("TextLabel", panel)
title.Text = "⚡ SPTS Auto (by Zwac)"
title.Size = UDim2.new(1, 0, 0, 28)
title.Position = UDim2.new(0, 0, 0, 2)
title.BackgroundTransparency = 1
title.TextColor3 = Color3.fromRGB(190, 230, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 18

-- Toggle Button
local toggleBtn = Instance.new("TextButton")
toggleBtn.Size = UDim2.new(0, 35, 0, 35)
toggleBtn.Position = UDim2.new(0, 10, 0, 10)
toggleBtn.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
toggleBtn.Text = "🎛️"
toggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextSize = 20
toggleBtn.Parent = gui
toggleBtn.Active = true
toggleBtn.Draggable = true
Instance.new("UICorner", toggleBtn).CornerRadius = UDim.new(0, 6)

local guiVisible = true
toggleBtn.MouseButton1Click:Connect(function()
	guiVisible = not guiVisible
	panel.Visible = guiVisible
end)

-- Clicker
local clickerBtn = Instance.new("TextButton", panel)
clickerBtn.Size = UDim2.new(0, 90, 0, 28)
clickerBtn.Position = UDim2.new(0, 12, 0, 36)
clickerBtn.BackgroundColor3 = Color3.fromRGB(40, 180, 100)
clickerBtn.Text = "Clicker: Off"
clickerBtn.TextColor3 = Color3.fromRGB(230, 255, 230)
clickerBtn.Font = Enum.Font.GothamBold
clickerBtn.TextSize = 13
Instance.new("UICorner", clickerBtn).CornerRadius = UDim.new(0, 6)

local speedBox = Instance.new("TextBox", panel)
speedBox.Size = UDim2.new(0, 60, 0, 24)
speedBox.Position = UDim2.new(0, 12, 0, 76)
speedBox.BackgroundColor3 = Color3.fromRGB(60, 70, 90)
speedBox.Text = "100"
speedBox.TextColor3 = Color3.fromRGB(220, 250, 250)
speedBox.Font = Enum.Font.Gotham
speedBox.TextSize = 14
speedBox.ClearTextOnFocus = false
Instance.new("UICorner", speedBox).CornerRadius = UDim.new(0, 4)

-- Infinite Jump
local jumpBtn = Instance.new("TextButton", panel)
jumpBtn.Size = UDim2.new(0, 170, 0, 26)
jumpBtn.Position = UDim2.new(0, 12, 0, 104)
jumpBtn.BackgroundColor3 = Color3.fromRGB(80, 70, 180)
jumpBtn.Text = "Infinite Jump: Off"
jumpBtn.TextColor3 = Color3.fromRGB(230, 230, 255)
jumpBtn.Font = Enum.Font.GothamBold
jumpBtn.TextSize = 14
Instance.new("UICorner", jumpBtn).CornerRadius = UDim.new(0, 6)

-- Pools
local pools = {
	Vector3.new(366, 250, -446),
	Vector3.new(348, 264, -499),
	Vector3.new(1639, 260, 2250),
	Vector3.new(-2303, 977, 1072),
	Vector3.new(-2051, 714, -1893)
}
local selectedPool = 1
local poolBtns = {}
for i = 1, #pools do
	local b = Instance.new("TextButton", panel)
	b.Size = UDim2.new(0, 50, 0, 24)
	b.Position = UDim2.new(0, 12 + 60 * (i-1), 0, 140)
	b.BackgroundColor3 = (i==selectedPool) and Color3.fromRGB(50,120,255) or Color3.fromRGB(70,70,70)
	b.TextColor3 = Color3.fromRGB(230,230,230)
	b.Font = Enum.Font.GothamBold
	b.TextSize = 13
	b.Text = "Pool " .. i
	Instance.new("UICorner", b).CornerRadius = UDim.new(0,4)
	b.MouseButton1Click:Connect(function()
		selectedPool = i
		for j, btn in ipairs(poolBtns) do
			btn.BackgroundColor3 = (j==selectedPool) and Color3.fromRGB(50,120,255) or Color3.fromRGB(70,70,70)
		end
	end)
	table.insert(poolBtns, b)
end

-- Auto Pool
local autoPoolBtn = Instance.new("TextButton", panel)
autoPoolBtn.Size = UDim2.new(0, 150, 0, 28)
autoPoolBtn.Position = UDim2.new(0, 12, 0, 180)
autoPoolBtn.BackgroundColor3 = Color3.fromRGB(200, 120, 50)
autoPoolBtn.Text = "Auto Pool: Off"
autoPoolBtn.TextColor3 = Color3.fromRGB(240,240,240)
autoPoolBtn.Font = Enum.Font.GothamBold
autoPoolBtn.TextSize = 14
Instance.new("UICorner", autoPoolBtn).CornerRadius = UDim.new(0,6)

-- Discord
local discordBtn = Instance.new("TextButton", panel)
discordBtn.Size = UDim2.new(0, 150, 0, 28)
discordBtn.Position = UDim2.new(0, 12, 0, 220)
discordBtn.BackgroundColor3 = Color3.fromRGB(80,160,240)
discordBtn.Text = "Discord"
discordBtn.TextColor3 = Color3.fromRGB(240,240,240)
discordBtn.Font = Enum.Font.GothamBold
discordBtn.TextSize = 14
Instance.new("UICorner", discordBtn).CornerRadius = UDim.new(0,6)
local discordLink = "https://discord.gg/xwUDTAKFK5"
discordBtn.MouseButton1Click:Connect(function()
	Clipboard:SetClipboard(discordLink)
end)

-- Vars
local running = false
local infiniteJump = false
local autoPool = false
local hasTeleported = false
local clickRunning = false
local clickPos

-- Clicker
local function initClicker()
	if clickRunning then return end
	local conn
	conn = UserInputService.InputBegan:Connect(function(input, gameProcessed)
		if gameProcessed then return end
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			clickPos = input.Position
			clickRunning = true
			conn:Disconnect()
			clickerBtn.Text = "Clicker: On"
		end
	end)
end
clickerBtn.MouseButton1Click:Connect(function()
	if not clickRunning then initClicker() else
		clickRunning = not clickRunning
		clickerBtn.Text = clickRunning and "Clicker: On" or "Clicker: Off"
	end
end)

-- Infinite Jump
jumpBtn.MouseButton1Click:Connect(function()
	infiniteJump = not infiniteJump
	jumpBtn.Text = infiniteJump and "Infinite Jump: On" or "Infinite Jump: Off"
end)

-- Auto Pool
autoPoolBtn.MouseButton1Click:Connect(function()
	autoPool = not autoPool
	autoPoolBtn.Text = autoPool and "Auto Pool: On" or "Auto Pool: Off"
	hasTeleported = false
end)

-- Click loop
task.spawn(function()
	while true do
		if clickRunning and clickPos then
			VirtualInputManager:SendMouseButtonEvent(clickPos.X, clickPos.Y, 0, true, game, 1)
			VirtualInputManager:SendMouseButtonEvent(clickPos.X, clickPos.Y, 0, false, game, 1)
			local spd = tonumber(speedBox.Text) or 100
			task.wait(math.max(spd / 1000, 0.01))
		else
			task.wait(0.1)
		end
	end
end)

-- Infinite Jump loop
RunService.RenderStepped:Connect(function()
	if infiniteJump then
		local char = p.Character
		if char and char:FindFirstChildOfClass("Humanoid") then
			local hum = char:FindFirstChildOfClass("Humanoid")
			if hum:GetState() == Enum.HumanoidStateType.Landed then
				hum:ChangeState(Enum.HumanoidStateType.Jumping)
			end
		end
	end
end)

-- Auto Pool loop
RunService.RenderStepped:Connect(function()
	if autoPool and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
		local hrp = p.Character.HumanoidRootPart
		if not hasTeleported or (hrp.Position - pools[selectedPool]).Magnitude > 5 then
			hrp.CFrame = CFrame.new(pools[selectedPool])
			hasTeleported = true
		end
	end
end)
